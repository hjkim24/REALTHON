{"version":3,"file":"prompt.service.js","sourceRoot":"","sources":["../../../../src/recommend/rag/prompt.service.ts"],"names":[],"mappings":"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"}